/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
(function(){var e=["vs/base/common/arrays","require","exports","vs/base/common/paths","vs/base/common/strings","vs/base/common/platform","vs/workbench/parts/output/common/outputLinkComputer","vs/base/common/winjs.base","vs/base/common/uri","vs/editor/common/core/range"],r=function(r){for(var n=[],t=0,i=r.length;t<i;t++)n[t]=e[r[t]];return n};define(e[0],r([1,2]),function(e,r){"use strict";function n(e,r){return void 0===r&&(r=0),e[e.length-(1+r)]}function t(e,r,n){if(void 0===n&&(n=function(e,r){return e===r}),e.length!==r.length)return!1;for(var t=0,i=e.length;t<i;t++)if(!n(e[t],r[t]))return!1;return!0}function i(e,r,n){for(var t=0,i=e.length-1;t<=i;){var o=(t+i)/2|0,u=n(e[o],r);if(u<0)t=o+1;else{if(!(u>0))return o;i=o-1}}return-(t+1)}function o(e,r){var n=0,t=e.length;if(0===t)return 0;for(;n<t;){var i=Math.floor((n+t)/2);r(e[i])?t=i:n=i+1}return n}function u(e,r,n){for(var t=[],i=[],o=0,u=0;;){if(o===e.length){i.push.apply(i,r.slice(u));break}if(u===r.length){t.push.apply(t,e.slice(o));break}var a=e[o],s=r[u],c=n(a,s);0===c?(o+=1,u+=1):c<0?(t.push(a),o+=1):c>0&&(i.push(s),u+=1)}return{removed:t,added:i}}function a(e,r,n){if(0===n)return[];for(var t=e.slice(0,n).sort(r),i=n,u=e.length;i<u;i++)!function(i,u){var a=e[i];if(r(a,t[n-1])<0){t.pop();var s=o(t,function(e){return r(a,e)<0});t.splice(s,0,a)}}(i);return t}function s(e){return e?e.filter(function(e){return!!e}):e}function c(e,r,n){e.splice(n,0,e.splice(r,1)[0])}function f(e){return!Array.isArray(e)||0===e.length}function l(e,r){if(!r)return e.filter(function(r,n){return e.indexOf(r)===n});var n=Object.create(null);return e.filter(function(e){var t=r(e);return!n[t]&&(n[t]=!0,!0)})}function h(e){var r=Object.create(null);return function(n){var t=e(n);return!r[t]&&(r[t]=!0,!0)}}function d(e,r){for(var n=0;n<e.length;n++){if(r(e[n]))return n}return-1}function v(e,r,n){void 0===n&&(n=null);var t=d(e,r);return t<0?n:e[t]}function p(e,r,n){void 0===n&&(n=function(e,r){return e===r});for(var t=0,i=0,o=Math.min(e.length,r.length);i<o&&n(e[i],r[i]);i++)t++;return t}function g(e){return e.reduce(function(e,r){return e.concat(r)},[])}function m(e,r){void 0===r&&(r=0);for(var n=[],t=r;t<e;t++)n.push(t);return n}function x(e,r,n){void 0===n&&(n=[]);for(var t=0;t<e;t++)n[t]=r();return n}function C(e,r,n){return void 0===n&&(n=function(e){return e}),e.reduce(function(e,t){var i=r(t);return e[i]=n(t,e[i]),e},Object.create(null))}function b(e,r){return e.push(r),function(){var n=e.indexOf(r);n>-1&&e.splice(n,1)}}Object.defineProperty(r,"__esModule",{value:!0}),r.tail=n,r.equals=t,r.binarySearch=i,r.findFirst=o,r.delta=u,r.top=a,r.coalesce=s,r.move=c,r.isFalsyOrEmpty=f,r.distinct=l,r.uniqueFilter=h,r.firstIndex=d,r.first=v,r.commonPrefixLength=p,r.flatten=g,r.range=m,r.fill=x,r.index=C,r.insert=b}),define(e[3],r([1,2,5,0,4]),function(e,r,n,t,i){"use strict";function o(e,o){for(var u=i.rtrim(f(e),r.sep),a=i.rtrim(f(o),r.sep),s=n.isLinux?u:u.toLowerCase(),c=n.isLinux?a:a.toLowerCase(),l=s.split(r.sep),h=c.split(r.sep),d=0,v=Math.min(l.length,h.length);d<v&&l[d]===h[d];d++);return t.fill(l.length-d,function(){return".."}).concat(a.split(r.sep).slice(d)).join(r.sep)}function u(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");if(0===t)return".";if(0==~t)return e[0];var i=e.substring(0,~t);return n.isWindows&&":"===i[i.length-1]&&(i+=r.nativeSep),i}function a(e){var r=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===r?e:~r==e.length-1?a(e.substring(0,e.length-1)):e.substr(1+~r)}function s(e){e=a(e);var r=~e.lastIndexOf(".");return r?e.substring(~r):""}function c(e,r){return r?!g.test(e):!p.test(e)}function f(e,r){if(null===e||void 0===e)return e;var t=e.length;if(0===t)return".";var i=n.isWindows&&r;if(c(e,i))return e;for(var o=i?"\\":"/",u=h(e,o),a=u.length,s=!1,f="",d=u.length;d<=t;d++)if(d===t||47===e.charCodeAt(d)||92===e.charCodeAt(d)){if(l(e,a,d,"..")){var v=f.lastIndexOf(o),p=f.slice(v+1);(u||p.length>0)&&".."!==p&&(f=-1===v?"":f.slice(0,v),s=!0)}else l(e,a,d,".")&&(u||f||d<t-1)&&(s=!0);if(!s){var g=e.slice(a,d);""!==f&&f[f.length-1]!==o&&(f+=o),f+=g}a=d+1,s=!1}return u+f}function l(e,r,n,t){return r+t.length===n&&e.indexOf(t,r)===r}function h(e,r){if(void 0===r&&(r="/"),!e)return"";var n=e.length,t=e.charCodeAt(0);if(47===t||92===t){if((47===(t=e.charCodeAt(1))||92===t)&&47!==(t=e.charCodeAt(2))&&92!==t){for(var i=3,o=i;i<n&&(47!==(t=e.charCodeAt(i))&&92!==t);i++);if(t=e.charCodeAt(i+1),o!==i&&47!==t&&92!==t)for(i+=1;i<n;i++)if(47===(t=e.charCodeAt(i))||92===t)return e.slice(0,i+1).replace(/[\\\/]/g,r)}return r}if((t>=65&&t<=90||t>=97&&t<=122)&&58===e.charCodeAt(1))return t=e.charCodeAt(2),47===t||92===t?e.slice(0,2)+r:e.slice(0,2);var u=e.indexOf("://");if(-1!==u)for(u+=3;u<n;u++)if(47===(t=e.charCodeAt(u))||92===t)return e.slice(0,u+1);return""}function d(e){if(!n.isWindows)return!1;if(!e||e.length<5)return!1;var r=e.charCodeAt(0);if(92!==r)return!1;if(92!==(r=e.charCodeAt(1)))return!1;for(var t=2,i=t;t<e.length&&92!==(r=e.charCodeAt(t));t++);return i!==t&&(r=e.charCodeAt(t+1),!isNaN(r)&&92!==r)}function v(e){return!(!e||0===e.length||/^\s+$/.test(e))&&(m.lastIndex=0,!m.test(e)&&((!n.isWindows||!x.test(e))&&("."!==e&&".."!==e&&((!n.isWindows||"."!==e[e.length-1])&&(!n.isWindows||e.length===e.trim().length)))))}Object.defineProperty(r,"__esModule",{value:!0}),r.sep="/",r.nativeSep=n.isWindows?"\\":"/",r.relative=o,r.dirname=u,r.basename=a,r.extname=s;var p=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,g=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;r.normalize=f,r.getRoot=h,r.join=function(){for(var e="",n=0;n<arguments.length;n++){var t=arguments[n];if(n>0){var i=e.charCodeAt(e.length-1);if(47!==i&&92!==i){var o=t.charCodeAt(0);47!==o&&92!==o&&(e+=r.sep)}}e+=t}return f(e)},r.isUNC=d;var m=n.isWindows?/[\\\/:\*\?"<>\|]/g:/[\\\/]/g,x=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;r.isValidBasename=v}),define(e[6],r([1,2,7,8,3,4,0,9]),function(e,r,n,t,i,o,u,a){"use strict";function s(e,r){return new c(e,r)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(r,n){this._ctx=r,this._workspaceResource=t.default.parse(n.workspaceResourceUri),this._patterns=e.createPatterns(this._workspaceResource)}return e.prototype._getModel=function(e){for(var r=this._ctx.getMirrorModels(),n=0;n<r.length;n++){var t=r[n];if(t.uri.toString()===e)return t}return null},e.prototype.computeLinks=function(r){var o=this,u=this._getModel(r);if(u){for(var a=[],s={toResource:function(e){return"string"==typeof e?t.default.file(i.join(o._workspaceResource.fsPath,e)):null}},c=u.getValue().split(/\r\n|\r|\n/),f=0,l=c.length;f<l;f++)a.push.apply(a,e.detectLinks(c[f],f+1,this._patterns,s));return n.TPromise.as(a)}},e.createPatterns=function(e){var r=[];return u.distinct([i.normalize(e.fsPath,!0),i.normalize(e.fsPath,!1)]).forEach(function(e){r.push(new RegExp(o.escapeRegExpCharacters(e)+"(\\S*) on line ((\\d+)(, column (\\d+))?)","gi")),r.push(new RegExp(o.escapeRegExpCharacters(e)+"(\\S*):line ((\\d+)(, column (\\d+))?)","gi")),r.push(new RegExp(o.escapeRegExpCharacters(e)+"([^\\s\\(\\)]*)(\\s?\\((\\d+)(,(\\d+))?)\\)","gi")),r.push(new RegExp(o.escapeRegExpCharacters(e)+"([^:\\s\\(\\)<>'\"\\[\\]]*)(:(\\d+))?(:(\\d+))?","gi"))}),r},e.detectLinks=function(e,r,n,t){var i=[];return n.forEach(function(n){n.lastIndex=0;for(var u,s=0;null!==(u=n.exec(e));){var c=o.rtrim(u[1],".").replace(/\\/g,"/"),f=void 0;try{f=t.toResource(c).toString()}catch(e){continue}if(u[3]){var l=u[3];if(u[5]){var h=u[5];f=o.format("{0}#{1},{2}",f,l,h)}else f=o.format("{0}#{1}",f,l)}var d=o.rtrim(u[0],"."),v=e.indexOf(d,s);s+=v+d.length;var p={startColumn:v+1,startLineNumber:r,endColumn:v+1+d.length,endLineNumber:r};if(i.some(function(e){return a.Range.areIntersectingOrTouching(e.range,p)}))return;i.push({range:p,url:f})}}),i},e}();r.OutputLinkComputer=c,r.create=s})}).call(this);
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/19222cdc84ce72202478ba1cec5cb557b71163de/core/vs\workbench\parts\output\common\outputLinkComputer.js.map
